import{j as e,B as i,I as o,T as z,ah as X,ai as p,a5 as C,r as w,a as Q,x as V,y as G,a_ as Z,u as _,ag as J,E as A,R as F,al as ee,Z as ne}from"./index-wQ8JwfM2.js";import{T as te,a as E}from"./Table-cDawzk-H.js";import{a as D}from"./index-k6g5FF0C.js";import{a as k,M as ie,T as le}from"./index--R3wRLoG.js";import{T as O}from"./index-bibDOvQh.js";import{G as ae,a as se,b as re}from"./GridToolbarDensitySelector-NExrkEns.js";import{u as oe}from"./useQueryLecturerTerm-QglJ35an.js";const ce=s=>{if(s==="REJECTED")return"Không duyệt";if(s==="PENDING")return"Chờ duyệt";if(s==="APPROVED")return"Đã duyệt"},de=s=>{switch(s){case"REJECTED":return"#831e1b";case"PENDING":return"#245368";case"APPROVED":return"#22552e"}},ue=s=>{switch(s){case"REJECTED":return"#f8e3e2";case"PENDING":return"#d7f8fd";case"APPROVED":return"#e2fbe8"}},pe=s=>{switch(s){case"REJECTED":return e.jsx(o,{style:{marginLeft:2,marginTop:2},width:14,icon:"fluent-mdl2:status-error-full"});case"PENDING":return e.jsx(o,{style:{marginLeft:2,marginTop:2},width:14,icon:"material-symbols:progress-activity"});case"APPROVED":return e.jsx(o,{style:{marginLeft:2,marginTop:2},width:14,icon:"typcn:tick"})}},Y=s=>{const a=de(s),h=ue(s),u=pe(s),x=ce(s);return e.jsxs(i,{px:10,width:"100%",py:2,textAlign:"center",my:"auto",borderRadius:1,fontSize:12,color:`${a}`,bgcolor:`${h}`,children:[x,u]})};function he(s){var f,m,t,v,y,r,c,M,I,j;const{onClose:a,open:h,topicId:u}=s,{handleTopicById:x}=k(),{data:n,isLoading:g}=x(u);return e.jsx(D,{maxWidth:"xl",open:h,onClose:a,children:e.jsxs(i,{p:10,children:[e.jsx(z,{mb:10,variant:"h6",textTransform:"uppercase",children:"Thông tin chi tiết Đề tài"}),g?e.jsx(X,{}):e.jsxs(i,{children:[e.jsx(p,{label:"Tên đề tài",value:(f=n==null?void 0:n.topic)==null?void 0:f.name,placeholder:"Tên đề tài"}),e.jsxs(i,{display:"flex",width:"100%",gap:8,children:[e.jsx(i,{flex:1,children:e.jsx(p,{type:"number",value:(m=n==null?void 0:n.topic)==null?void 0:m.quantityGroupMax,label:"Số lượng nhóm sinh viên tối đa",placeholder:"Số lượng đề tài"})}),e.jsx(i,{flex:1,children:e.jsx(p,{sx:{flex:1},label:"Giảng viên phụ trách",value:(t=n==null?void 0:n.topic)==null?void 0:t.lecturerTerm.lecturer.fullName,placeholder:"tên giảng viên"})}),e.jsx(i,{flex:1,children:e.jsx(p,{label:"Trạng thái đề tài",value:(v=n==null?void 0:n.topic)==null?void 0:v.status,placeholder:"tên giảng viên"})})]}),e.jsx(p,{label:"Mô tả đề tài",multiline:!0,value:(y=n==null?void 0:n.topic)==null?void 0:y.description,maxRows:8,placeholder:"Nhập vào Mô tả đề tài"}),e.jsx(p,{multiline:!0,value:(r=n==null?void 0:n.topic)==null?void 0:r.expectedResult,maxRows:8,label:"Dự kiến sản phẩm nghiên cứu của Đề tài và khả năng ứng dụng",placeholder:"Dự kiến sản phẩm nghiên cứu của Đề tài và khả năng ứng dụng"}),e.jsx(p,{multiline:!0,value:(c=n==null?void 0:n.topic)==null?void 0:c.target,maxRows:8,label:"Mục tiêu đề tài",placeholder:"Mục tiêu đề tài"}),e.jsx(p,{multiline:!0,maxRows:8,label:"Yêu cầu đầu vào",value:(M=n==null?void 0:n.topic)==null?void 0:M.requireInput,placeholder:"Yêu cầu đầu vào"}),e.jsx(p,{multiline:!0,maxRows:10,label:"Chuẩn đầu ra",value:(I=n==null?void 0:n.topic)==null?void 0:I.standardOutput,placeholder:"Chuẩn đầu ra"}),e.jsx(p,{multiline:!0,value:(j=n==null?void 0:n.topic)==null?void 0:j.note,maxRows:8,label:"Ghi chú đề tài",placeholder:"Ghi chú đề tài"}),e.jsx(i,{mt:10,justifyContent:"end",gap:8,display:"flex",children:e.jsxs(C,{variant:"contained",color:"primary",onClick:a,children:[e.jsx(o,{icon:"mdi:close-outline"}),"Thoát"]})})]})]})})}function xe(s){const{onClose:a,open:h,topicId:u}=s,{onUpdateStatusTopic:x}=k(),[n,g]=w.useState("Đủ điều kiện duyệt."),{mutate:f}=x(u),m=()=>{f({status:"APPROVED",note:n}),a()};return e.jsx(D,{onClose:a,open:h,children:e.jsxs(i,{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:10,py:12,children:[e.jsx(i,{borderRadius:"50%",padding:6,sx:{background:"rgba(49, 255, 159, 0.2)"},children:e.jsx(o,{color:"#0F9B6CD4",height:70,width:70,icon:"subway:tick"})}),e.jsx(Q,{variant:"h3",mt:10,mb:14,children:"Bạn có chắc chắn muốn duyệt đề tài này ?"}),e.jsx(i,{width:"100%",children:e.jsx(p,{placeholder:"Lí do duyệt đề tài",onChange:t=>g(t.target.value),value:n,label:"Lý do duyệt",multiline:!0,rows:4})}),e.jsxs(i,{width:"100%",display:"flex",gap:6,marginTop:1,children:[e.jsxs(C,{onClick:a,sx:{width:"50%"},color:"primary",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"mdi:cancel-outline"}),"Hủy"]}),e.jsxs(C,{onClick:m,sx:{width:"50%"},color:"success",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"subway:tick"}),"Duyệt đề tài"]})]})]})})}function ge(s){const{onClose:a,open:h,topicId:u}=s,{onUpdateStatusTopic:x}=k(),[n,g]=w.useState("Xin lỗi, đề tài của bạn không đủ điều kiện để được phép duyệt."),{mutate:f}=x(u),m=()=>{f({status:"REJECTED",note:n}),a()};return e.jsx(D,{onClose:a,open:h,children:e.jsxs(i,{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:10,py:12,children:[e.jsx(i,{borderRadius:"50%",padding:6,sx:{background:"rgba(255, 49, 49, 0.2)"},children:e.jsx(o,{color:"#9B0F0FD4",height:70,width:70,icon:"healthicons:refused"})}),e.jsx(Q,{variant:"h3",mt:10,mb:14,children:"Bạn có chắc chắn từ chối đề tài này ?"}),e.jsx(i,{width:"100%",children:e.jsx(p,{placeholder:"Lí do từ chối đề tài",onChange:t=>g(t.target.value),value:n,label:"Lý do từ chối",multiline:!0,rows:4})}),e.jsxs(i,{width:"100%",display:"flex",gap:6,marginTop:1,children:[e.jsxs(C,{onClick:a,sx:{width:"50%"},color:"primary",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"mdi:cancel-outline"}),"Hủy"]}),e.jsxs(C,{onClick:m,sx:{width:"50%"},color:"error",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"healthicons:refused"}),"Từ chối đề tài"]})]})]})})}const W=V().shape({name:G().required("Tên đề tài không được bỏ trống"),quantityGroupMax:Z().typeError("Trường này phải là số").min(1,"Số lượng nhóm đăng kí phải lớn hơn 0").required("Số lượng nhóm đăng kí không được bỏ trống "),description:G().required("Mô tả đề tài không được trống"),target:G().required("Mục tiêu đề tài không được trống"),standardOutput:G().required("Chuẩn đầu ra không được bỏ trống"),expectedResult:G().required("Dự kiến sản phẩm nghiên cứu của đề tài không được bỏ trống"),requireInput:G().required("Yêu cầu đầu vào không được bỏ trống")});function me(s){var M,I,j,T,B,L,N,P;const{onClose:a,open:h,topicId:u}=s;k(),_();const{onUpdateTopicById:x,handleUiRender:n}=k(),{mutate:g,isSuccess:f}=x(u),{handleTopicById:m}=k(),{data:t,isLoading:v,isFetching:y}=m(u),r=S=>{g(S)};w.useEffect(()=>{a()},[f]);const c=n();return e.jsx(D,{maxWidth:"xl",open:h,onClose:a,children:e.jsxs(i,{p:10,children:[e.jsx(z,{mb:10,variant:"h4",textTransform:"uppercase",children:"Cập nhật thông tin đề tài"}),v||y?e.jsx(X,{}):e.jsx(J,{validationSchema:W,onSubmit:S=>r(S),initialValues:{name:`${(M=t==null?void 0:t.topic)==null?void 0:M.name}`,quantityGroupMax:`${(I=t==null?void 0:t.topic)==null?void 0:I.quantityGroupMax}`,description:`${(j=t==null?void 0:t.topic)==null?void 0:j.description}`,note:`${(T=t==null?void 0:t.topic)==null?void 0:T.note}`,expectedResult:`${(B=t==null?void 0:t.topic)==null?void 0:B.expectedResult}`,target:`${(L=t==null?void 0:t.topic)==null?void 0:L.target}`,standardOutput:`${(N=t==null?void 0:t.topic)==null?void 0:N.standardOutput}`,requireInput:`${(P=t==null?void 0:t.topic)==null?void 0:P.requireInput}`},children:({handleSubmit:S,values:R,errors:d,touched:b,handleBlur:H,handleChange:$,setFieldValue:q})=>{var U;return e.jsxs("form",{onSubmit:S,children:[e.jsx(p,{value:`${(U=t==null?void 0:t.topic.lecturerTerm)==null?void 0:U.lecturer.fullName}`,required:!0,disabled:!0,label:"Giảng viên hướng dẫn",placeholder:"Tên giảng viên"}),c.includes("all")&&e.jsx(p,{placeholder:"Số lượng nhóm phải lớn hơn 0 và bé hơn 5",required:!0,name:"quantityGroupMax",label:"Số lượng nhóm đăng ký tối đa",value:R.quantityGroupMax,onChange:$,onBlur:H,error:!!(d.quantityGroupMax&&b.quantityGroupMax),helperText:`${d.quantityGroupMax&&b.quantityGroupMax?d.quantityGroupMax:""}`}),e.jsx(p,{value:R.name,onChange:$,onBlur:H,error:!!(d.name&&b.name),helperText:`${d.name&&b.name?d.name:""}`,required:!0,label:"Tên đề tài",name:"name",placeholder:"Tên đề tài"}),e.jsxs(i,{my:4,children:[e.jsx(O,{label:"Mục tiêu đề tài",errors:!!(d.target&&b.target),value:R.target,onChange:l=>{q("target",l)},id:"target",helperText:`${d.target&&b.target?d.target:""}`,placeholder:"Nhập vào mục tiêu đề tài"}),e.jsx(i,{my:4,children:e.jsx(O,{onChange:l=>{q("expectedResult",l)},id:"expectedResult",value:R.expectedResult,label:"Dự kiến sản phẩm nghiên cứu của đề tài và khả năng ứng dụng",placeholder:"Dự kiến sản phẩm nghiên cứu của Đề tài và khả năng ứng dụng"})}),e.jsx(i,{my:4,children:e.jsx(O,{label:"Mô tả",errors:!!(d.description&&b.description),value:R.description,onChange:l=>{q("description",l)},id:"description",helperText:`${d.description&&b.description?d.description:""}`,placeholder:"Nhập vào mô tả đề tài"})})]})," ",e.jsx(i,{my:4,children:e.jsx(O,{label:"Yêu cầu đầu vào",errors:!!(d.requireInput&&b.requireInput),value:R.requireInput,onChange:l=>{q("requireInput",l)},id:"requireInput",helperText:`${d.requireInput&&b.requireInput?d.requireInput:""}`,placeholder:"Nhập vào yêu cầu đầu vào"})}),e.jsx(i,{my:4,children:e.jsx(O,{label:"Yêu cầu đầu ra",errors:!!(d.standardOutput&&b.standardOutput),value:R.standardOutput,onChange:l=>{q("standardOutput",l)},id:"standardOutput",helperText:`${d.standardOutput&&b.standardOutput?d.standardOutput:""}`,placeholder:"Nhập vào chuẩn đầu ra"})}),e.jsx(i,{my:4,children:e.jsx(O,{onChange:l=>{q("note",l)},id:"note",value:R.note,label:"Ghi chú"})}),e.jsxs(i,{mt:10,justifyContent:"end",gap:4,display:"flex",children:[e.jsxs(C,{variant:"contained",color:"primary",onClick:a,children:[e.jsx(o,{icon:"mdi:close-outline"}),"Hủy"]}),e.jsxs(C,{variant:"contained",color:"success",type:"submit",children:[e.jsx(o,{icon:"material-symbols:save-outline"}),"Lưu thông tin"]})]})]})}})]})})}function je(){return e.jsxs(ae,{children:[e.jsx(se,{sx:{px:2,py:1}}),e.jsx(re,{sx:{px:2,py:1}})]})}function fe(s){const{onClose:a,open:h,topicId:u}=s,{onDeleteTopicById:x}=k(),{mutate:n}=x(),g=()=>{n(u)};return e.jsx(D,{onClose:a,open:h,children:e.jsxs(i,{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:10,py:12,children:[e.jsxs(i,{borderRadius:"50%",padding:3,sx:{background:"rgba(255,49,111,0.2)"},children:[e.jsx(o,{color:"#b31d1d82",height:70,width:70,icon:"fa-solid:trash-restore"})," "]}),e.jsx(Q,{variant:"h3",mt:10,mb:14,children:"Bạn có chắc chắn muốn xóa Đề tài này ?"}),e.jsxs(i,{width:"100%",display:"flex",gap:6,marginTop:1,children:[e.jsxs(C,{onClick:a,sx:{width:"50%"},color:"primary",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"mdi:cancel-outline"}),"Hủy"]}),e.jsxs(C,{onClick:g,type:"submit",sx:{width:"50%"},color:"error",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"material-symbols:auto-delete-outline"}),"Xóa Đề tài"]})]})]})})}function qe(s){const{rows:a,totalItems:h,totalPages:u,page:x,handelChangePage:n,isApprovePermission:g,...f}=s,[m,t]=w.useState({topicId:"",isOpen:!1}),v=()=>{t({...m,isOpen:!1})},y=l=>{t({topicId:l,isOpen:!0})},[r,c]=w.useState({topicId:"",isOpen:!1}),M=()=>{c({...r,isOpen:!1})},I=l=>{c({topicId:l,isOpen:!0})},[j,T]=w.useState({topicId:"",isOpen:!1}),B=()=>{T({...j,isOpen:!1})},L=l=>{T({topicId:l,isOpen:!0})},[N,P]=w.useState({topicId:"",isOpen:!1}),S=()=>{P({...N,isOpen:!1})},R=l=>{P({topicId:l,isOpen:!0})},[d,b]=w.useState({topicId:"",isOpen:!1}),H=()=>{b({...d,isOpen:!1})},$=l=>{b({topicId:l,isOpen:!0})},q=[{headerName:"STT",field:"stt",flex:.2,headerAlign:"center",align:"center"},{headerName:"Tên Đề tài",field:"name",flex:1.5,headerAlign:"center",align:"left"},{headerName:"Giảng viên HD",field:"fullName",headerAlign:"center",align:"left",flex:.6},{headerName:"SL nhóm tối đa",field:"quantity_group_max",flex:.5,headerAlign:"center",align:"center"},{headerName:"Trạng thái",field:"text2",flex:.6,headerAlign:"center",align:"center",renderCell:l=>e.jsx(i,{children:Y(l.row.status)})},{headerName:"Tính năng thêm",field:"none",flex:.6,headerAlign:"center",align:"center",renderCell:l=>e.jsxs(i,{display:"flex",gap:2,children:[e.jsx(E,{title:"Chỉnh sửa thông tin đề tài",onClick:()=>$(l.row.id),children:e.jsx(A,{size:"small",color:"primary",children:e.jsx(o,{icon:"ph:pencil-line-fill",width:20,style:{color:"#0288d1"}})})}),e.jsx(E,{title:"Xem thông tin đề tài",onClick:()=>y(l.row.id),children:e.jsx(A,{size:"small",children:e.jsx(o,{width:20,icon:"flat-color-icons:view-details"})})}),e.jsx(E,{title:"Xóa đề tài",onClick:()=>I(l.row.id),children:e.jsx(A,{size:"small",children:e.jsx(o,{width:20,icon:"carbon:close-filled",style:{color:" #f2365b"}})})})]})},{headerName:"Duyệt đề tài",field:"status",flex:.7,headerAlign:"center",align:"center",renderCell:l=>e.jsx(e.Fragment,{children:l.row.status==="PENDING"&&e.jsxs(i,{display:"flex",gap:4,children:[e.jsxs(C,{size:"small",onClick:()=>L(l.row.id),color:"success",variant:"outlined",children:[e.jsx(o,{style:{marginRight:1},icon:"mdi:tick-outline"}),"Duyệt"]}),e.jsxs(C,{size:"small",onClick:()=>R(l.row.id),color:"error",variant:"outlined",children:[e.jsx(o,{style:{marginRight:1},icon:"lets-icons:cancel-fill"}),"Từ chối"]})]})})}],U=[{headerName:"STT",field:"stt",flex:.2,headerAlign:"center",align:"center"},{headerName:"Tên Đề tài",field:"name",flex:1.5,headerAlign:"center"},{headerName:"SL nhóm tối đa",field:"quantityGroupMax",flex:.5,headerAlign:"center",align:"center"},{headerName:"Trạng thái",field:"text2",flex:.4,headerAlign:"center",align:"center",renderCell:l=>e.jsx(i,{children:Y(l.row.status)})},{headerName:"Tính năng thêm",field:"none",flex:.7,headerAlign:"center",align:"center",renderCell:l=>e.jsxs(i,{display:"flex",gap:2,children:[e.jsx(E,{title:"Chỉnh sửa thông tin đề tài",onClick:()=>$(l.row.id),children:e.jsx(A,{color:"primary",children:e.jsx(o,{icon:"ph:pencil-line-fill",width:20,style:{color:"#0288d1"}})})}),e.jsx(E,{onClick:()=>y(l.row.id),title:"Xem thông tin đề tài",children:e.jsx(A,{children:e.jsx(o,{width:20,icon:"flat-color-icons:view-details"})})}),l.row.status!=="APPROVED"?e.jsx(E,{title:"Xóa đề tài",onClick:()=>I(l.row.id),children:e.jsx(A,{children:e.jsx(o,{width:20,icon:"carbon:close-filled",style:{color:" #f2365b"}})})}):e.jsx(e.Fragment,{})]})}];return e.jsxs(i,{...f,children:[" ",e.jsxs(e.Fragment,{children:[e.jsx(te,{rows:a.map((l,K)=>({...l,stt:K+1})),minHeight:500,columns:g?q:U,totalItems:a.length,totalPages:1,page:1,handleChangePage:()=>{},disableColumnFilter:!0,slots:{toolbar:je}}),e.jsx(fe,{open:r.isOpen,onClose:M,topicId:r.topicId}),e.jsx(me,{open:d.isOpen,onClose:H,topicId:d.topicId}),e.jsx(he,{open:m.isOpen,onClose:v,topicId:m.topicId},j.topicId),g&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{open:j.isOpen,onClose:B,topicId:j.topicId},j.topicId),e.jsx(ge,{open:N.isOpen,onClose:S,topicId:N.topicId},j.topicId)]})]})]})}function ye(s){const{onClose:a,open:h}=s;k();const{lecturerStore:u}=_(),{onCreateTopicByToken:x,handleUiRender:n}=k(),{mutate:g,isSuccess:f}=x(),m=v=>{g(v)};w.useEffect(()=>{a()},[f]);const t=n();return e.jsx(D,{maxWidth:"xl",open:h,onClose:a,children:e.jsxs(i,{p:10,children:[e.jsx(z,{mb:10,variant:"h4",textTransform:"uppercase",children:"Tạo đề tài mới"}),e.jsx(J,{validationSchema:W,onSubmit:v=>m(v),initialValues:{name:"",quantityGroupMax:5,description:"",expectedResult:"",target:"",standardOutput:"",requireInput:""},children:({handleSubmit:v,values:y,errors:r,touched:c,handleBlur:M,handleChange:I,setFieldValue:j})=>e.jsxs("form",{onSubmit:v,children:[e.jsx(p,{value:`${u.me.user.fullName}`,required:!0,disabled:!0,label:"Giảng viên hướng dẫn",placeholder:"Tên giảng viên"}),t.includes("all")&&e.jsx(p,{placeholder:"Số lượng nhóm phải lớn hơn 0 và bé hơn 5",required:!0,name:"quantityGroupMax",label:"Số lượng nhóm đăng ký tối đa",value:y.quantityGroupMax,onChange:I,onBlur:M,error:!!(r.quantityGroupMax&&c.quantityGroupMax),helperText:r.quantityGroupMax&&c.quantityGroupMax?r.quantityGroupMax:""}),e.jsx(p,{value:y.name,onChange:I,onBlur:M,error:!!(r.name&&c.name),helperText:r.name&&c.name?r.name:"",required:!0,label:"Tên đề tài",name:"name",placeholder:"Tên đề tài"}),e.jsx(i,{my:4,children:e.jsx(O,{label:"Mục tiêu đề tài",errors:!!(r.target&&c.target),value:y.target,onChange:T=>{j("target",T)},id:"target",helperText:r.target&&c.target?r.target:"",placeholder:"Nhập vào mục tiêu đề tài"})})," ",e.jsx(i,{my:4,children:e.jsx(O,{onChange:T=>{j("expectedResult",T)},id:"expectedResult",value:y.expectedResult,label:"Dự kiến sản phẩm nghiên cứu của đề tài và khả năng ứng dụng",placeholder:"Dự kiến sản phẩm nghiên cứu của Đề tài và khả năng ứng dụng"})}),e.jsx(i,{my:4,children:e.jsx(O,{label:"Mô tả",errors:!!(r.description&&c.description),value:y.description,onChange:T=>{j("description",T)},id:"description",helperText:r.description&&c.description?r.description:"",placeholder:"Nhập vào mô tả đề tài"})}),e.jsx(i,{my:4,children:e.jsx(O,{label:"Yêu cầu đầu vào",errors:!!(r.requireInput&&c.requireInput),value:y.requireInput,onChange:T=>{j("requireInput",T)},id:"requireInput",helperText:r.requireInput&&c.requireInput?r.requireInput:"",placeholder:"Nhập vào yêu cầu đầu vào"})}),e.jsx(i,{my:4,children:e.jsx(O,{label:"Yêu cầu đầu ra",errors:!!(r.standardOutput&&c.standardOutput),value:y.standardOutput,onChange:T=>{j("standardOutput",T)},id:"standardOutput",helperText:r.standardOutput&&c.standardOutput?r.standardOutput:"",placeholder:"Nhập vào yêu cầu đầu ra"})}),e.jsxs(i,{mt:10,justifyContent:"end",gap:4,display:"flex",children:[e.jsxs(C,{variant:"contained",color:"primary",onClick:a,children:[e.jsx(o,{icon:"mdi:close-outline"}),"Hủy"]}),e.jsxs(C,{variant:"contained",color:"success",type:"submit",children:[e.jsx(o,{icon:"material-symbols:save-outline"}),"Lưu thông tin"]})]})]})})]})})}function Ce(s){const{onClose:a,open:h}=s,{onUpdateAllQuantityGroupMax:u}=k(),[x,n]=w.useState(0),{mutate:g,isSuccess:f}=u(),m=()=>{g(x)};return w.useEffect(()=>{f&&a()},[f]),e.jsx(D,{onClose:a,open:h,children:e.jsxs(i,{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:10,py:12,children:[e.jsx(z,{textTransform:"uppercase",variant:"h3",children:"Cập nhật số lượng đề tài tối đa"}),e.jsx(i,{width:"100%",children:e.jsx(p,{onChange:t=>{n(t.target.value)},onBlur:t=>{n(t.target.value)},type:"number",label:"Số lượng"})}),e.jsxs(i,{width:"100%",display:"flex",gap:6,marginTop:1,children:[e.jsxs(C,{onClick:a,sx:{width:"50%"},color:"primary",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"mdi:cancel-outline"}),"Hủy"]}),e.jsxs(C,{onClick:m,type:"submit",sx:{width:"50%"},color:"success",variant:"contained",children:[e.jsx(o,{width:20,style:{marginRight:4},icon:"grommet-icons:update"}),"Cập nhật"]})]})]})})}const Te=[{name:"Tên Đề tài",_id:"name"}];function be(){const[s,a]=w.useState(!1),h=()=>{a(!1)},u=()=>{a(!0)},[x,n]=w.useState(!1),g=()=>{n(!1)},f=()=>{n(!0)},{handleUiRender:m}=k(),t=m(),{onSearchChange:v,getQueryField:y,onTypeSearchChange:r,handleFocused:c}=oe();return e.jsxs(e.Fragment,{children:[e.jsxs(i,{display:"flex",flexWrap:"wrap",gap:2,children:[e.jsxs(i,{flex:1,display:"flex",gap:2,width:"full",children:[e.jsx(i,{width:150,children:e.jsx(ee,{placeholder:"Tìm kiếm đề tài",value:"name",onChange:M=>r(`${M.target.value}`),options:Te})}),e.jsx(ne,{fullWidth:!0,size:"small",defaultValue:y("keywords"),onChange:v,onBlur:()=>c(!1),placeholder:"Tim kiếm đề tài.."})]}),t.includes("crud")&&e.jsx(e.Fragment,{children:e.jsxs(C,{onClick:u,size:"small",color:"error",type:"button",variant:"contained",children:[e.jsx(o,{icon:"lets-icons:add-round",width:20}),"Tạo mới đề tài"]})}),e.jsx(ie,{label:"",labelToolTip:"Tải lên Excel DS Đề tài",entityUpload:le.TOPIC}),t.includes("all")&&e.jsx(E,{onClick:f,title:"Cập nhật số lượng Đề tài",children:e.jsx(C,{sx:{bgcolor:"grey.800"},color:"primary",type:"button",size:"small",variant:"contained",children:e.jsx(o,{icon:"uiw:setting",color:"white",width:20})})})]}),e.jsx(ye,{open:s,onClose:h}),e.jsx(Ce,{open:x,onClose:g})]})}const Se=F.memo(be);export{Se as H,qe as T};
