import{aw as s,ao as p,ad as T,ax as a,ay as u,az as c}from"./index-NapbxlsL.js";const d=(t,r)=>s.get(`/api/v1/evaluations/scores?termId=${t}&type=${r}`),l=t=>s.post("/api/v1/transcripts",t),g=(t,r)=>s.put(`/api/v1/transcripts/${t}`,{score:r}),v=(t,r)=>s.get(`/api/v1/transcripts/scoring/${r}/listStudentsNoTranscript?termId=${t}`),y=(t,r,i)=>s.get(`/api/v1/transcripts?termId=${t}&type=${r}&groupStudentId=${i}`),m=(t,r,i)=>s.get(`/api/v1/transcripts?termId=${t}&type=${r}&studentId=${i}`),S=t=>s.post("/api/v1/transcripts/list",{transcripts:t}),G=(t,r)=>s.get(`/api/v1/transcripts/group-student?termId=${t}&groupStudentId=${r}`),Q=()=>{const{enqueueSnackbar:t}=p(),{termStore:r}=T();return{handleGetTranscriptsByGroupStudent:n=>a(["getTranscriptsByGroupStudent",n],()=>G(r.currentTerm.id,n)),handleGetTranscriptsByTypeEvaluation:(n,e)=>a(["getTranscriptsByTypeEvaluation",r.currentTerm.id,n,e],()=>m(r.currentTerm.id,n,e)),hanleGetEvalutaionsForScoring:n=>a(["getEvaluationsForScoring",n],()=>d(r.currentTerm.id,n),{staleTime:1e3}),handleGetTranscriptOfStudentInGroup:(n,e)=>a(["getTranscriptOfStudentInGroup",r.currentTerm.id,n,e],()=>y(r.currentTerm.id,n,e)),onCreateTranscripts:n=>u(e=>S(e),{onSuccess(e){t("Lưu điểm thành công",{variant:"success"}),c.invalidateQueries(["getTranscriptsByGroupStudent",n])},onError(e){t("Thất bại, vui lòng thử lại",{variant:"error"})}}),onCreateTranscript:(n,e)=>u(o=>l({...o,termId:r.currentTerm.id}),{onError:o=>{t("Cập nhật điểm thất bại",{variant:"error"})},onSuccess:()=>{t("Tạo điểm thành công",{variant:"success"}),c.invalidateQueries(["getTranscriptsByTypeEvaluation",r.currentTerm.id,e,n])}}),onUpdateTranscript:n=>u(e=>g(e.id,e.score),{onSuccess:()=>{t("Cập nhật điểm thành công",{variant:"success"}),c.invalidateQueries(["getTranscriptsByTypeEvaluation",r.currentTerm.id])}}),handleGetUnTranscriptGroupStudentsByType:n=>a(["getUnTranscriptGroupStudentsByType",r.currentTerm.id,n],()=>v(r.currentTerm.id,n),{staleTime:1e3})}};export{Q as u};
